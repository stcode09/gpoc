<!DOCTYPE html>
<html>
<head>
  <script>
    window.addEventListener("message", function(event) {
      if(event.origin && event.origin.indexOf('force') >= 0) {
        console.log('Received a message from MailApp!');
        console.log(event);
        document.getElementById("text").innerHTML = "Message received from MailApp!";
      }
    });
    
    var data = 
        {
          "action":"FakeIFT",
          "timeSlotHref":"https://chrome.salesforceiq.com/confirm-release/confirm-app.html?s=1518829200000&currentApiHost=https%3A%2F%2Fapp.salesforceiq.com",
          "timeSlotSrc":"https://app.salesforceiq.com/timeslot2.png?s=1518829200000&o=480&d=1800000",
          "timeRange":"5:00PM - 5:30PM",
          "dayStartFormatted":new Date().toString(),
          "webUrl":"https://chrome.salesforceiq.com/confirm-release/confirm-app.html?view=true&currentApiHost=https://app.salesforceiq.com"
        };
    
    var handleClickOpener = function() {
      debugger;
      window.opener.postMessage(JSON.stringify(data), '*');
      window.opener.postMessage(JSON.stringify({type:'closePopup', action: 'show_connected_accounts'}), '*');
    };
    
    var handleClickParent = function() {
      debugger;
      window.parent.testFunc();
      //window.parent.postMessage(JSON.stringify(data), '*');
      //window.parent.postMessage(JSON.stringify({type:'closePopup', action: 'show_connected_accounts'}), '*');
    };
    
    var navigator = function() {
      debugger;
    }
</script>
</head>
<body onload="navigator()">
  <input type="button" onclick="handleClickParent()" value="Message Parent"/>
  <p id="text"></p>
</body>
</html>
